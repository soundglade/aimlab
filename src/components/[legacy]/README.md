# Rila - Guided Meditation Generator

Rila is an experimental tool inside AIM Lab that allows users to synthesize guided meditations from text-based meditation scripts (likely generated by ChatGPT or other LLMs). It transforms text-based meditation scripts into formatted and narrated audio meditations.

## Features

- **Script Formatting**: Converts raw meditation scripts into structured, formatted content
- **Voice Selection**: Choose from a variety of voice options for narration
- **Audio Synthesis**: Generates high-quality audio narration of meditation scripts
- **Playback**: Listen to synthesized meditations
- **Session Management**: Save and retrieve meditation sessions
- **Private Mode**: Option to use the application without saving any data

## Architecture

### Storage System

The application uses two types of storage systems:

1. **Session Storage**:

   - Persists meditation session data and state
   - Has both persistent and ephemeral (private) modes

2. **File Storage**:
   - Manages audio files generated during synthesis
   - Supports both persistent and ephemeral storage options

### Backend API Interactions

The frontend communicates with two main API endpoints:

1. **Script Formatting** (`/api/format-meditation-script`):

   - Transforms raw scripts into structured formats
   - Identifies speech sections, headings, pauses, sound cues, etc.

2. **Audio Synthesis** (`/api/synthesize-meditation`):
   - Converts formatted scripts into spoken audio
   - Streams audio data for real-time playback during synthesis

### Routing

- `/rila`: New meditation sessions (standard mode)
- `/rila/[id]`: Access saved meditation sessions
- `/rila/private`: New private meditation sessions
- `/rila/private/[id]`: Access private sessions (no data persistence)
